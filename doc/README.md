# RESTful services (express/restify)

## Що таке REST?

REST розшифровується як REpresentational State Transfer.

Відмінною особливістю сервісів REST є те, що вони дозволяють найкращим чином використовувати протокол HTTP.

## Коротко про HTTP

HTTP - це протокол, що дозволяє виконувати операції над різноманітними ресурсами (create, read, update, delete - CRUD)

Ресурс - це узагальнене поняття, тобто все, що ви хочете показати зовнішньому світові через вашу програму. Наприклад:
* Конкретна сутність (entity)
* Конкретна задача
* Список задач

Кожен ресурс має свій ідентифікатор (URI - універсальний ідентифікатор ресурсів). Наприклад:
* /books
* /students/Ivan
* /cars/Mercedes
* /trucks/MAN/1

## Запит-відповідь в HTTP

Для того, щоб з ресурсами виконати CRUD-дії необхідно їх знайти за URI та передати їм вхідні параметри. Для цього використовується запит. Щоб отримати результат CRUD-дій, використовуються відповіді.

Саме тому HTTP є технічною основою для створення та роботи веб-сервісів.

Запити та відповіді для зручності будуються за шаблоном.

### Будова запиту в HTTP

HTTP визначає наступну структуру запиту (request):
* рядок запиту (request line) - визначає тип повідомлення
* заголовки запиту (header fields) - характеризують тіло повідомлення, параметри передачі та інші відомості
* тіло повідомлення (body) - необов'язкове

### Будова відповіді в HTTP

HTTP визначає наступну структуру відповідного повідомлення (response):

(тут приклад)

* рядок стану (status line), що включає код стану та повідомлення про причини
* поля заголовка відповіді (header fields)
* додаткове тіло повідомлення (body)

### Типи HTTP-запиту

Тип, який міститься в HTTP-запиті, вказує на необхідну операцію з обраним ресурсом. (Дані типи лише вказують, а не виконують дії)
* GET: отримати детальну інформацію про ресурс (Read)
* POST: створити новий ресурс (Create)
* PUT: оновити існуючий ресурс (Update)
* DELETE: видалити ресурс (Delete)

## REST та його зв'язок з HTTP

REST - це архітектурний стиль, побудований на HTTP. Оскільки HTTP добре реалізовує передачу параметрів та вказівку на CRUD операцію, то досить логічне рішення. Важливо відзначити, що REST - це лише ідея, а не технічна реалізація.

REST API - це технічна реалізація архітектурного стилю REST.

RESTful service - це веб-сервіс, побудований на REST.

### Принципи стилю REST

* Ідентифікує ресурси як HTTP.
* Використовує дієслова, вже визначені протоколом HTTP, для доступу до CRUD-операцій.
* Формат в середині запиту-відповіді - будь-який (JSON, XML, тощо).
* Тематика сервісу - будь-яка, оскільки REST є досить гнучким.
* Найголовніше в сервісі - ресурси.
